{"ast":null,"code":"import*as d3 from'd3';import _ from'lodash';var draw=function draw(props){var data=[];if(props.data!==null){data=_.cloneDeep(props.data.activities);}d3.select('.vis-linechart > *').remove();var margin={top:20,right:20,bottom:30,left:40};var width=props.width-margin.left-margin.right;;var height=props.height-margin.top-margin.bottom;var svg=d3.select(\".vis-linechart\").append(\"svg\").attr(\"width\",width+margin.left+margin.right).attr(\"height\",height+margin.top+margin.bottom).append(\"g\").attr(\"transform\",\"translate(\"+margin.left+\",\"+margin.top+\")\");data.forEach(function(d){d.date=d3.timeParse(\"%Y-%m-%d\")(d.date);d.count=+d.count;});// Add X axis --> it is a date format\nvar x=d3.scaleTime().domain(d3.extent(data,function(d){return d.date;})).range([0,width]);svg.append(\"g\").attr(\"transform\",\"translate(0,\"+height+\")\").call(d3.axisBottom(x));// Add Y axis\nvar y=d3.scaleLinear().domain([0,d3.max(data,function(d){return+d.count;})]).range([height,0]);svg.append(\"g\").call(d3.axisLeft(y));// Add the line\nsvg.append(\"path\").datum(data).attr(\"fill\",\"none\").attr(\"stroke\",\"steelblue\").attr(\"stroke-width\",1.5).attr(\"d\",d3.line().x(function(d){return x(d.date);}).y(function(d){return y(d.count);}));};export default draw;","map":{"version":3,"sources":["/Users/zameerbharwani/Desktop/cs348/project/rails-app/dashboard/src/charts/LineChart/vis.js"],"names":["d3","_","draw","props","data","cloneDeep","activities","select","remove","margin","top","right","bottom","left","width","height","svg","append","attr","forEach","d","date","timeParse","count","x","scaleTime","domain","extent","range","call","axisBottom","y","scaleLinear","max","axisLeft","datum","line"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\nimport _ from 'lodash';\n\nconst draw = (props) => {\n    let data = [];\n    if (props.data !== null) {\n        data = _.cloneDeep(props.data.activities);\n    }\n    d3.select('.vis-linechart > *').remove();\n    let margin = { top: 20, right: 20, bottom: 30, left: 40 }\n    const width = props.width - margin.left - margin.right;;\n    const height = props.height - margin.top - margin.bottom;\n    let svg = d3.select(\".vis-linechart\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    data.forEach(function (d) {\n        d.date = d3.timeParse(\"%Y-%m-%d\")(d.date);\n        d.count = +d.count;\n    });\n    \n    // Add X axis --> it is a date format\n    let x = d3.scaleTime()\n        .domain(d3.extent(data, function (d) { return d.date; }))\n        .range([0, width]);\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x));\n\n    // Add Y axis\n    var y = d3.scaleLinear()\n        .domain([0, d3.max(data, function (d) { return +d.count; })])\n        .range([height, 0]);\n    svg.append(\"g\")\n        .call(d3.axisLeft(y));\n\n    // Add the line\n    svg.append(\"path\")\n        .datum(data)\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"steelblue\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", d3.line()\n            .x(function (d) { return x(d.date) })\n            .y(function (d) { return y(d.count) })\n        )\n}\n\nexport default draw;"]},"metadata":{},"sourceType":"module"}