{"ast":null,"code":"import * as d3 from 'd3';\nimport './style.css';\n\nvar draw = function draw(props) {\n  d3.select('.vis-barchart > *').remove();\n  var data = props.data;\n  var margin = {\n    top: 20,\n    right: 20,\n    bottom: 30,\n    left: 40\n  };\n  var width = props.width - margin.left - margin.right;\n  var height = props.height - margin.top - margin.bottom;\n  var svg = d3.select('.vis-barchart').append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // format the data\n\n  data.forEach(function (d) {\n    d.age = +d.age;\n  }); // Scale the range of the data in the domains\n\n  var x = d3.scaleBand().range([0, width]).padding(0.1);\n  var y = d3.scaleLinear().range([height, 0]);\n  x.domain(data.map(function (d) {\n    return d.name;\n  }));\n  y.domain([0, d3.max(data, function (d) {\n    return d.age;\n  })]); // append the rectangles for the bar chart\n\n  svg.selectAll(\".bar\").data(data).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", function (d) {\n    return x(d.name);\n  }).attr(\"width\", x.bandwidth()).attr(\"y\", function (d) {\n    return y(d.age);\n  }).attr(\"height\", function (d) {\n    return height - y(d.age);\n  }); // add the x Axis\n\n  svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x)); // add the y Axis\n\n  svg.append(\"g\").call(d3.axisLeft(y));\n};\n\nexport default draw;","map":{"version":3,"sources":["/Users/divbhasin/rails-app/app/javascript/components/history/charts/BarChart/vis.js"],"names":["d3","draw","props","select","remove","data","margin","top","right","bottom","left","width","height","svg","append","attr","forEach","d","age","x","scaleBand","range","padding","y","scaleLinear","domain","map","name","max","selectAll","enter","bandwidth","call","axisBottom","axisLeft"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\nimport './style.css';\n\nconst draw = (props) => {\n    d3.select('.vis-barchart > *').remove();\n    const data = props.data;\n    const margin = {top: 20, right: 20, bottom: 30, left: 40};\n    const width = props.width - margin.left - margin.right;\n    const height = props.height - margin.top - margin.bottom;\n    let svg = d3.select('.vis-barchart').append('svg')\n            .attr('width',width + margin.left + margin.right)\n            .attr('height',height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n    // format the data\n    data.forEach(function(d) {\n        d.age = +d.age;\n    });\n\n    // Scale the range of the data in the domains\n    let x = d3.scaleBand()\n          .range([0, width])\n          .padding(0.1);\n    let y = d3.scaleLinear()\n          .range([height, 0]);\n    x.domain(data.map(function(d) { return d.name; }));\n    y.domain([0, d3.max(data, function(d) { return d.age; })]);\n\n    // append the rectangles for the bar chart\n    svg.selectAll(\".bar\")\n        .data(data)\n        .enter().append(\"rect\")\n        .attr(\"class\", \"bar\")\n        .attr(\"x\", function(d) { return x(d.name); })\n        .attr(\"width\", x.bandwidth())\n        .attr(\"y\", function(d) { return y(d.age); })\n        .attr(\"height\", function(d) { return height - y(d.age); });\n\n    // add the x Axis\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x));\n\n    // add the y Axis\n    svg.append(\"g\")\n        .call(d3.axisLeft(y));\n}\n\nexport default draw;"]},"metadata":{},"sourceType":"module"}